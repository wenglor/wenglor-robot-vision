
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="General template for a robot vision application using the wenglor robot vision interface.">
      
      
      
        <link rel="canonical" href="https://wenglor.github.io/wenglor-robot-vision/4_0_robot_vision_server/4_6_0_generic_robot_vision_api/">
      
      
        <link rel="prev" href="../4_5_0_generic_robots/">
      
      
        <link rel="next" href="../../5_0_0_change_index_of_operating_instructions/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>4.6 Generic Robot Vision API - Robot Vision Manual</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/wenglor.css">
    
      <link rel="stylesheet" href="../../css/images_table.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#46-generic-robot-vision-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Robot Vision Manual" class="md-header__button md-logo" aria-label="Robot Vision Manual" data-md-component="logo">
      
  <img src="../../images/wenglor_logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Robot Vision Manual
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4.6 Generic Robot Vision API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/wenglor/wenglor-robot-vision" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    wenglor-robot-vision
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Robot Vision Manual" class="md-nav__button md-logo" aria-label="Robot Vision Manual" data-md-component="logo">
      
  <img src="../../images/wenglor_logo.svg" alt="logo">

    </a>
    Robot Vision Manual
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wenglor/wenglor-robot-vision" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    wenglor-robot-vision
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Robot Vision Manual
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1_0_0_intended_purpose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Use for Intended Purpose
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2_0_0_network_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Network Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3_0_0_robot_vision_basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Robot Vision Basics
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    4. Wenglor Robot Server
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            4. Wenglor Robot Server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../4_1_basics/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    4.1 Basics with Robot Server
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            4.1 Basics with Robot Server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_1_basics/4_1_1_camera_on_robot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1.1 Camera on Robot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_1_basics/4_1_2_camera_not_on_robot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1.2 Camera not on Robot
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_2_0_settings_on_device_website/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2 Settings on Device Website
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_3_0_calibration_job_in_univision/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3 Calibration Job in uniVision
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_4_0_detection_job_in_univision/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4 Detection Job in uniVision
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_5_0_generic_robots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5 Generic Robots
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    4.6 Generic Robot Vision API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    4.6 Generic Robot Vision API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#command-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Command syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#return-values" class="md-nav__link">
    <span class="md-ellipsis">
      Return values
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-codes" class="md-nav__link">
    <span class="md-ellipsis">
      Error codes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-xml-reply" class="md-nav__link">
    <span class="md-ellipsis">
      Example XML reply
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-string-replies" class="md-nav__link">
    <span class="md-ellipsis">
      Example string replies
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5_0_0_change_index_of_operating_instructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Change Index of Operating Instructions
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="46-generic-robot-vision-api">4.6 Generic Robot Vision API<a class="headerlink" href="#46-generic-robot-vision-api" title="Permanent link">&para;</a></h1>
<p>The generic robot vision API describes the communication between the robot controller and the wenglor robot server on the Machine Vision Device.</p>
<p>Overview of commands for string and XML based robots:</p>
<h2 id="command-syntax">Command syntax<a class="headerlink" href="#command-syntax" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
<th>Unit/Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>job:change[<em>job_name.u3p</em>];</td>
<td>Changes the <a href="https://www.wenglor.com/en/Machine-Vision/Machine-Vision-Software/Image-Processing-Software-uniVision-3/wenglor-uniVision-3-Software/p/DNNF023">uniVision</a> job of the processing instance to the given job.</td>
<td>File ending “.u3p” is mandatory. Don't wrap the job name in quotes</td>
</tr>
<tr>
<td>job:get;</td>
<td>Requests the currently active job of the processing instance.</td>
<td>String</td>
</tr>
<tr>
<td>calibration:clear;</td>
<td>Clears the internal buffer of the robot server.  Required in case of recalibrating.</td>
<td></td>
</tr>
<tr>
<td>calibration:add[<em>pose_information</em>];</td>
<td>Triggers and saves the current camera image together with the given robot pose in the internal robot server buffer.</td>
<td>Pose information in [x, y, z, rx, ry, rz] x, y, z in meter rx, ry, rz as rotation vector in radiant</td>
</tr>
<tr>
<td>calibration:calculate[<em>calibration_case</em>, <em>calibration_target</em>];</td>
<td>Calculates the hand-eye calibration based on the saved calibration poses and images from the internal robot server. The results are stored on the Machine Vision Device.</td>
<td>Calibration case options: <ul><li>camera_on_robot</li><li>camera_not_on_robot </li></ul> Calibration target options: <ul> <li><a href="https://www.wenglor.com/product/ZVZJ001">ZVZJ001</a></li> <li><a href="https://www.wenglor.com/product/ZVZJ002">ZVZJ002</a></li> <li><a href="https://www.wenglor.com/product/ZVZJ003">ZVZJ003</a></li> <li><a href="https://www.wenglor.com/product/ZVZJ004">ZVZJ004</a></li></ul>  <blockquote> NOTE<br>For <a href="https://www.wenglor.com/product/ZVZJ005">ZVZJ005</a> use <a href="https://www.wenglor.com/product/ZVZJ001">ZVZJ001</a> <br>For <a href="https://www.wenglor.com/product/ZVZJ006">ZVZJ006</a> use <a href="https://www.wenglor.com/product/ZVZJ002">ZVZJ002</a> (same size) </blockquote></td>
</tr>
<tr>
<td>calibration:ground[<em>calibration_target</em>];</td>
<td>Triggers the <a href="https://www.wenglor.com/en/Machine-Vision/Machine-Vision-Software/Image-Processing-Software-uniVision-3/c/cxmCID222459">uniVision</a> job, calculates and saves the current calibration target pose as an object ground reference.</td>
<td>Calibration target options: <ul> <li><a href="https://www.wenglor.com/product/ZVZJ001">ZVZJ001</a></li> <li><a href="https://www.wenglor.com/product/ZVZJ002">ZVZJ002</a></li> <li><a href="https://www.wenglor.com/product/ZVZJ003">ZVZJ003</a></li> <li><a href="https://www.wenglor.com/product/ZVZJ004">ZVZJ004</a></li></ul>  <blockquote> NOTE<br>For <a href="https://www.wenglor.com/product/ZVZJ005">ZVZJ005</a> use <a href="https://www.wenglor.com/product/ZVZJ001">ZVZJ001</a> <br>For <a href="https://www.wenglor.com/product/ZVZJ006">ZVZJ006</a> use <a href="https://www.wenglor.com/product/ZVZJ002">ZVZJ002</a> (same size) </blockquote></td>
</tr>
<tr>
<td>state[<em>calibration_case</em>];</td>
<td>Requests the state of the robot server. The first bit represents the overall state. The second bit represents if a calibration is present for the provided use case or not.</td>
<td>Calibration case options: <ul><li>camera_on_robot </li> <li>camera_not_on_robot </li></ul> First bit: Connection error state <ul> <li>0: No camera error present </li> <li>1: Camera is in error state </li></ul> Second bit: Calibration state <ul><li>0: No calibration present </li> <li>1: Calibration data could be read </li></ul> Example: 01 <ul><li>0: No camera error </li> <li>1: Calibration available </li></ul> Example: 10 <ul><li>1: Camera in error state </li> <li>0: Calibration not available </li></ul> Example: 11 <ul> <li>1: Camera in error state </li> <li>1: Calibration available</td>
</tr>
<tr>
<td>detect[<em>calibration_case</em>, <em>pose_information</em>];</td>
<td>Triggers the <a href="https://www.wenglor.com/en/Machine-Vision/Machine-Vision-Software/Image-Processing-Software-uniVision-3/c/cxmCID222459">uniVision</a> job, sends the <code>Device Robot Vision</code> data to the robot server. There the 3D object pose is calculated based on the current calibration data and returned to the robot.</td>
<td>Calibration case options: <ul><li>camera_on_robot</li> <li>camera_not_on_robot </li></ul>Pose information in [x, y, z, rx, ry, rz] <br> x, y, z in meter <br> rx, ry, rz as rotation vector in radiant <br><br> Object pose (array of floating point numbers)</td>
</tr>
<tr>
<td>num_objects:get;</td>
<td>Requests the number of objects available in the robot server buffer</td>
<td>Positive number</td>
</tr>
<tr>
<td>validate[<em>calibration_case</em>, <em>detection_pose</em>];</td>
<td>Provides the calibration target origin 3D pose (bottom left target) based on the information saved during the calibration.</td>
<td>Calibration case options: <ul><li>camera_on_robot </li> <li>camera_not_on_robot </li></ul> Pose information in [x, y, z, rx, ry, rz] <br> x, y, z in meter <br> rx, ry, rz as rotation vector in radiant <br><br> Object pose (array of floating point numbers)</td>
</tr>
<tr>
<td>pose:get[<em>index</em>];</td>
<td>Requests the object pose with the given index from the robot server buffer. Detect must be called first to fill the buffer.</td>
<td>Index starts at 0 <br> Pose information in [x, y, z, rx, ry, rz] <br> x, y, z in meter <br> rx, ry, rz as rotation vector in radiant <br><br> Object pose (array of floating point numbers)</td>
</tr>
<tr>
<td>shape:get[<em>index</em>];</td>
<td>Requests the shape model with the given index from the robot server buffer. Detect must be called first to fill the buffer.</td>
<td>Index starts at 0 <br><br> Number</td>
</tr>
<tr>
<td>value:get[<em>index</em>];</td>
<td>Requests the additional value with the given index from the robot server buffer. Detect must be called first to fill the buffer.</td>
<td>Index starts at 0 <br><br> String</td>
</tr>
</tbody>
</table>
<h2 id="return-values">Return values<a class="headerlink" href="#return-values" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Command</th>
<th>Successful return value<br>(for string based robots)</th>
<th>Error return value (for string based robots)</th>
</tr>
</thead>
<tbody>
<tr>
<td>job:change[job_name.u3p];</td>
<td>0</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>job:get;</td>
<td>uniVision job name [string]</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>calibration:clear;</td>
<td>0</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>calibration:add[pose_information];</td>
<td>0</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>calibration:calculate[<em>calibration_case</em>,calibration_target];</td>
<td>reprojection error positive floating point</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>calibration:ground[calibration_target];</td>
<td>0</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>state[calibration_case];</td>
<td>Two binary numbers <ul><li>First bit: Camera error</li> <li>Second bit: Calibration state</li></ul></td>
<td>Two binary numbers <ul><li>First bit: Camera error</li> <li>Second bit: Calibration state</li></ul></td>
</tr>
<tr>
<td>detect[calibration_case,pose_information];</td>
<td>Object pose (array of floating point numbers)</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>num_objects:get;</td>
<td>Number of objects available in robot server (positive number)</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>validate[calibration_case,detection_pose];</td>
<td>Calibration target pose (array of floating point numbers)</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>pose:get[index];</td>
<td>Object pose to the object with the corresponding index (starting with 0) (Array of floating point numbers)</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>shape:get[index];</td>
<td>Shape model linked in <code>Device Robot Vision</code> to the object with the corresponding index (starting with 0) (number)</td>
<td>Error code as negative number</td>
</tr>
<tr>
<td>value:get[index];</td>
<td>Additional value linked in <code>Device Robot Vision</code> to the object with the corresponding index (starting with 0)(string)</td>
<td>Error code as negative number</td>
</tr>
</tbody>
</table>
<h2 id="error-codes">Error codes<a class="headerlink" href="#error-codes" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Code number</th>
<th>Error message</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>-5001</td>
<td>General Error</td>
<td>If an error was recognized, but could not be assigned to any other error code.</td>
</tr>
<tr>
<td>-5002</td>
<td>Badly formatted request</td>
<td><ul><li>If the extraction of the parameter failed.</li><br> <li>The command ending is missing.</li><br><li>The command is unknown.</li><br></ul></td>
</tr>
<tr>
<td>-5003</td>
<td>No connnection to univision</td>
<td><ul><li>The required connection to the processing instance is not available.</li><br> <li>The required connection to <code>Device Robot Vision</code> is not available.</li><br></ul></td>
</tr>
<tr>
<td>-5004</td>
<td>Unknown univision job name</td>
<td>If the job could not be loaded, but for a different reason than a connection issue.</td>
</tr>
<tr>
<td>-5005</td>
<td>Badly configured univision job</td>
<td>If the number of shape models of locator/pattern match does not fit to the configuration of <code>Device Robot Vision</code>.</td>
</tr>
<tr>
<td>-5006</td>
<td>Calibration failed</td>
<td>If the calibration failed for any reason.</td>
</tr>
<tr>
<td>-5007</td>
<td>No calibration data</td>
<td>If the required calibration data is not available to calculate the 3d object pose.</td>
</tr>
<tr>
<td>-5008</td>
<td>No object found</td>
<td>If <code>Device Robot Vision</code> sends result true count = 0.</td>
</tr>
<tr>
<td>-5009</td>
<td>Bad or empty <code>Device Robot Vision</code> message"</td>
<td>If the extraction of <code>Device Robot Vision</code> message fails, mostly the case if it is empty.</td>
</tr>
<tr>
<td>-5010</td>
<td>Index error</td>
<td>If the user tries to access data that is out of range, e.g.num_objects:get; returned 1 object was found, and you are trying to access shape:get[1];. As the index starts counting at 0, the user would try to access object 2,while only one was found.</td>
</tr>
</tbody>
</table>
<h2 id="example-xml-reply">Example XML reply<a class="headerlink" href="#example-xml-reply" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;sensor&gt;</span>
<span class="w"> </span><span class="nt">&lt;reply&gt;</span>
<span class="w"> </span><span class="nt">&lt;command&gt;</span>job:get;<span class="nt">&lt;/command&gt;</span>
<span class="w"> </span><span class="nt">&lt;return_code&gt;</span>0<span class="nt">&lt;/return_code&gt;</span>
<span class="w"> </span><span class="nt">&lt;job_name&gt;</span>calibration.u3p<span class="nt">&lt;/job_name&gt;</span>
<span class="w"> </span><span class="nt">&lt;calib_accuracy&gt;</span>0<span class="nt">&lt;/calib_accuracy&gt;</span>
<span class="w"> </span><span class="nt">&lt;state&gt;</span>00<span class="nt">&lt;/state&gt;</span>
<span class="w"> </span><span class="nt">&lt;object_pose</span><span class="w"> </span><span class="na">X=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">Y=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">Z=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">RX=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">RY=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">RZ=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<span class="w"> </span><span class="nt">&lt;num_objects&gt;</span>0<span class="nt">&lt;/num_objects&gt;</span>
<span class="w"> </span><span class="nt">&lt;shape_model&gt;</span>0<span class="nt">&lt;/shape_model&gt;</span>
<span class="w"> </span><span class="nt">&lt;additional_value&gt;&lt;/additional_value&gt;</span>
<span class="w"> </span><span class="nt">&lt;/reply&gt;</span>
<span class="nt">&lt;/sensor&gt;</span>
</code></pre></div>
<h2 id="example-string-replies">Example string replies<a class="headerlink" href="#example-string-replies" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Command from robot</th>
<th>Successful reply from robot server</th>
</tr>
</thead>
<tbody>
<tr>
<td>job:change[calibration.u3p];</td>
<td>0</td>
</tr>
<tr>
<td>job:get;</td>
<td>calibration.u3p</td>
</tr>
<tr>
<td>calibration:clear;</td>
<td>0</td>
</tr>
<tr>
<td>calibration:add[[0.021476,-1.344395,0.716645,-3.080280,-0.024544,-0.476923]];</td>
<td>0</td>
</tr>
<tr>
<td>calibration:calculate[camera_not_on_robot,zvzj004];</td>
<td>0.129936</td>
</tr>
<tr>
<td>calibration:ground[zvzj004];</td>
<td>0</td>
</tr>
<tr>
<td>state[camera_not_on_robot];</td>
<td>01</td>
</tr>
<tr>
<td>detect[camera_not_on_robot,[0.047871,-0.856617,0.830479,0.874365,3.004280,-0.045222]];</td>
<td>(0.048705,-0.094640,-0.110581,0.102101,-3.131079,0.003192)</td>
</tr>
<tr>
<td>validate[camera_not_on_robot, [0.047871,-0.856617,0.830479,0.874365,3.004280,-0.045222]];</td>
<td>(0.318205,-0.164630,-0.100281,0.090210,-1.131079,1.003192)</td>
</tr>
<tr>
<td>num_objects:get;</td>
<td>5</td>
</tr>
<tr>
<td>pose:get[0];</td>
<td>(0.048705,-0.094640,-0.110581,0.102101,-3.131079,0.003192)</td>
</tr>
<tr>
<td>shape:get[1];</td>
<td>0</td>
</tr>
<tr>
<td>value:get[4];</td>
<td>0.903153</td>
</tr>
</tbody>
</table>
<blockquote>
<p>NOTE</p>
<p>An example robot program structure written in Python that shows how to use the generic robot  vision API is available in the related <a href="https://github.com/wenglor/robot-vision-generic/tree/main/sources">GitHub Repository</a></p>
</blockquote>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2025 wenglor sensoric group
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "content.code.copy", "toc.integrate", "search.highlight"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>